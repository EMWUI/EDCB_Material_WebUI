dofile(mg.document_root..'\\api\\util.lua')
dofile(mg.script_name:gsub('[^\\/]*$','')..'string.lua')
dofile(mg.script_name:gsub('[^\\/]*$','')..'util.lua')

ct=template({main='  <main class="mdl-layout__content">\n'})

if not mg.request_info.uri:find('/$') and
   not mg.request_info.uri:lower():find('%.html$') then
  mg.write(Response(301, nil, nil, 0)..'Location: '..mg.request_info.uri..'/\r\n\r\n')
else
  mg.write(Response(200, 'text/html', 'utf-8', #ct)..'\r\n', ct)
end
